<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width='device-width', initial-scale=1.0">
    <title>Document</title>
<style>
#div1{
    height: 100%;
    width: 100%;
}
body{
    margin: 0;
    
}
.circle{
     border-radius: 50%;
     height: 100px;
     width: 100px;
     position: absolute;
     transition: 500ms linear;
    }
.in_circle{
    position:relative;
    border-radius: 50%;
    height: 100px;
    width: 100px;
    transition: 500ms linear;

}
</style>

</head>

<body>

    <div class="container" id="div1"></div>

<script>

  window.onload = ()=>{

        for(var i = 0;i<100;i++){
            let divv = document.getElementById("div1");
            let w = document.createElement('div');

            //string na id pileczki
            let circle_id = new String("circle"+i);
            w.setAttribute('id',circle_id);

            w.setAttribute("class","circle");




            let r = Math.round(Math.random()*255);
            let g = Math.round(Math.random()*255);
            let b = Math.round(Math.random()*255);

            let mh = Math.round(Math.random()*(100));
            let mw = Math.round(Math.random()*(100));

            let rgb = new String("rgb("+r+","+g+","+b+")");
            let posh = new String(mh+"%")
            let posw = new String(mw+"%");

            console.log(r,g,b);
            console.log(rgb);

            w.style.backgroundColor = rgb;
            w.style.marginTop = posh;
            w.style.left = posw;


            let w2 = document.createElement('div');
            w2.setAttribute("class","in_circle");
            w.appendChild(w2);



            
            

            w2.addEventListener("click",(e)=>{
                let r1 = Math.round(Math.random()*255);
                let g1 = Math.round(Math.random()*255);
                let b1 = Math.round(Math.random()*255);

                //let rgb1 = new String("rgb("+r1+","+g1+","+b1+")");

               // w.style.backgroundColor=rgb1;
                let ok = window.event;


               
                var xx = e.clientX; 
                var yy = e.clientY; 

                
                
                let el_left = w2.offsetLeft+50;
                let el_high = w2.offsetTop+50;


                let _x = Math.abs(el_left-xx);
                let _y = Math.abs(el_high - yy);

            
               

                const rect = w2.getBoundingClientRect();

                console.log(rect);
         

                x = ((e.clientX - rect.left) / (rect.right - rect.left)) * 100;
                y = ((e.clientY - rect.top) / (rect.bottom - rect.top)) * 100;


                


                console.log(x + "," +y);

                let mh_f = Math.round(Math.random()*(100));
                let mw_f = Math.round(Math.random()*(33));
                


                if(x<50&&y<50){
                    w.style.backgroundColor = "green";
                    w.style.marginTop = mh_f +"%";
                    w.style.marginLeft = mw_f  +"%";
                    w2.style.marginTop = mh_f +"%";
                    w2.style.marginLeft = mw_f  +"%";
                }else if(x<=50&&y>=50){
                    w.style.backgroundColor = "red";
                    w.style.marginTop = mh_f +"%";
                    w.style.marginLeft = mw_f  +"%";
                    w2.style.marginTop = mh_f +"%";
                    w2.style.marginLeft = mw_f  +"%";
                }else if(x>=50&&y<=50){
                    w.style.backgroundColor = "blue";
                    w.style.marginTop = mh_f +"%";
                    w.style.marginLeft = mw_f  +"%";
                    w2.style.marginTop = mh_f +"%";
                    w2.style.marginLeft = mw_f  +"%";
                }else if(x>50&&y>50){
                    w.style.backgroundColor = "purple";
                    w.style.marginTop = mh_f +"%";
                    w.style.marginLeft = mw_f  +"%";
                    w2.style.marginTop = mh_f +"%";
                    w2.style.marginLeft = mw_f  +"%";
                }


                

                




               
             
                


                
            })

            divv.appendChild(w);  
            var x = $(w).position();
            
            
        }

        


    };

</script>
    
</body>
</html>
